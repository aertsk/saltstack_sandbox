# Step 1: Get familiar with saltstack
https://www.tutorialspoint.com/saltstack

# On salt_master: restart saltstack
service salt-master restart

# On salt_minion: restart saltstack
service salt-minion restart

# On salt_master: Check keys
salt-key -L

# On salt_master: Accept all keys (NOT SECURE!!!!)
# Can be persisted in master config file using 'open_mode: True'
salt-key -A

# Test salt connectivity
salt '*' test.ping

# Deploy /srv/salt/test.sls Salt State
salt '*' state.apply ci_jenkins

# Step 2: How to deploy a docker using saltstack
https://www.jacksoncage.se/posts/2014/10/01/use-salt-to-manage-and-deploy-docker-containers.html


# TIPS:
############

# On salt_minion: Remove minion key
####################################

#Inside dockerised minion
rm /etc/salt/pki/minion/*

#On target minion
rm -rf /var/lib/salt/pki/minion
